const windowWidth=window.innerWidth,windowHeight=window.innerHeight;function OpenMobileMenu(e,o,r){$(e).on("click",(function(){$(r).toggleClass("show"),$(o).toggleClass("show"),$("body").toggleClass("notScroll")}))}function CloseMobileMenu(e,o){$(e).removeClass("show"),$(o).removeClass("show"),$("body").removeClass("notScroll")}window.addEventListener("load",(function(){setTimeout(()=>{$(".preloader").addClass("hide")},1e3)}));let closeMobileMenu,openMobileMenu=new OpenMobileMenu(".mobile-menu-icon",".menu-overlay",".mobile-menu");$(".menu-close").on("click",(function(){closeMobileMenu=new CloseMobileMenu(".mobile-menu",".menu-overlay")})),$(".menu-overlay").on("click",(function(){closeMobileMenu=new CloseMobileMenu(".mobile-menu",".menu-overlay")})),document.body.onkeydown=function(e){27==e.keyCode&&(closeMobileMenu=new CloseMobileMenu(".mobile-menu",".menu-overlay"))};let featuresNumbers=document.querySelectorAll(".features-numbers"),numbersRow=document.querySelector(".numbers-row");function animateFeaturesCouner(){for(let e=0;e<featuresNumbers.length;e++){let o=featuresNumbers[e].querySelector(".features-number"),r=o.getAttribute("data-number");o.innerText=r}}function closeModalWindow(e,o){$(e).removeClass("show"),$(o).removeClass("show"),$("body").removeClass("notScroll"),$(".form-item").removeClass("error"),$(".form-item span").text(""),$(".checkbox").removeClass("error").removeClass("checked")}function openModalWindow(e,o){$(e).addClass("show"),$(o).addClass("show"),$("body").addClass("notScroll")}function displaySlickDots(){window.innerWidth<=1220?$(".slick-dots").css({display:"none"}):$(".slick-dots").css({display:"flex"})}function coutDotsSlider(){let e=document.querySelectorAll(".slick-dots li");for(let o=0;o<e.length;o++){let r=o+1;e.length<=9&&(r="0"+(o+1)),e[o].innerText=r}}window.addEventListener("scroll",(function(){numbersRow.classList.contains("animate-show")&&animateFeaturesCouner()})),$(".i-button.signUp").on("click",(function(){openModalWindow(".i-modal.signUp",".form-wrap.signUp")})),$(".i-button.signIn").on("click",(function(){openModalWindow(".i-modal.signIn",".form-wrap.signIn")})),$(".i-close").on("click",(function(){closeModalWindow(".i-modal",".form-wrap"),closeMobileMenu=new CloseMobileMenu(".mobile-menu",".menu-overlay")})),$(".i-modal-content").on("click",(function(e){this==e.target&&(closeModalWindow(".i-modal",".form-wrap"),closeMobileMenu=new CloseMobileMenu(".mobile-menu",".menu-overlay"))})),document.body.onkeydown=function(e){27==e.keyCode&&(closeModalWindow(".i-modal",".form-wrap"),closeMobileMenu=new CloseMobileMenu(".mobile-menu",".menu-overlay"))},$((function(){$('a[href^="#"]').on("click",(function(e){e.preventDefault(),$(".lazy-link").removeClass("active").filter(this).addClass("active");var o=$(this).attr("href"),r=$(o);$("html, body").animate({scrollTop:r.offset().top-60},1e3)}))})),$(".main-slider").on("init",(function(e,o){})).slick({slidesToShow:1,slidesToScroll:1,dots:!0,arrows:!1,fade:!1,useTransform:!0,cssEase:"cubic-bezier(.19,.74,0,1.01)",accessibility:!0,autoplay:!1,autoplaySpeed:8e3,speed:1600,infinite:!0,pauseOnFocus:!1,pauseOnHover:!1}),displaySlickDots(),coutDotsSlider(),window.addEventListener("resize",(function(){displaySlickDots(),setTimeout(()=>{coutDotsSlider()},100)})),window.addEventListener("load",(function(){$("header").addClass("animate-header")})),$(".checkbox").on("click",(function(){$(this).toggleClass("checked"),$(this).hasClass("checked")&&$(this).removeClass("error")}));let userName=$("input[name=user_name]"),surname=$("input[name=user_surname]"),cardCode=$("input[name=user_card-code]"),email=$("input[name=user_email]"),password=$("input[name=user_password]"),repeatPassword=$("input[name=user_repeat-password]"),phone=$("input[name=user_phone]"),regName=/^[A-zА-я\s^_][^0-9\s_]+$/,regPhone=/^[0-9\s][^A-zА-я\s_\.\,]+$/,error=!1;function setError(e,o){let r=e.parents(".form-item"),n=r.find("span");r.addClass("error"),n.text(o)}function removeError(e){let o=e.parents(".form-item"),r=o.find("span");o.removeClass("error"),r.text("")}function isEmail(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}$("form").on("submit",(function(e){""==userName.val()?(e.preventDefault(),setError(userName,"Заполните поле")):regName.test(userName.val())?removeError(userName):(e.preventDefault(),setError(userName,"Введите корректные данные")),""==surname.val()?(e.preventDefault(),setError(surname,"Заполните поле")):regName.test(surname.val())?(removeError(surname),error=!1):(e.preventDefault(),setError(surname,"Введите корректные данные")),""==cardCode.val()?(e.preventDefault(),setError(cardCode,"Заполните поле")):regPhone.test(cardCode.val())?(removeError(cardCode),error=!1):(e.preventDefault(),setError(cardCode,"Введите корректные данные")),""==password.val()?(e.preventDefault(),setError(password,"Заполните поле")):(removeError(password),error=!1),""==repeatPassword.val()?(e.preventDefault(),setError(repeatPassword,"Заполните поле")):password.val()!=repeatPassword.val()?(e.preventDefault(),setError(repeatPassword,"Пароли не совпадают")):(removeError(repeatPassword),error=!1),""==phone.val()?(e.preventDefault(),setError(phone,"Заполните поле")):regPhone.test(phone.val())?(removeError(phone),error=!1):(e.preventDefault(),setError(phone,"Введите корректные данные")),""==email.val()?(e.preventDefault(),setError(email,"Введите Ваш email")):isEmail(email.val())?(removeError(email),error=!1):setError(email,"Введите корректный email"),$(".checkbox").hasClass("checked")?$(".checkbox").removeClass("error"):(e.preventDefault(),$(".checkbox").addClass("error"))}));